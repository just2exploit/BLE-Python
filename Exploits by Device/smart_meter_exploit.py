import pygatt
from time import sleep
BD_address = "F0:C7:7F:1C:57:82"  # change the bdaddress
uuid = "0000fff3-0000-1000-8000-00805f9b34fb"
adapter = pygatt.GATTToolBackend()
adapter.start()
device = adapter.connect(BD_address,timeout=10)
print device

#device OFF
print("1.ON")
print("2.OFF")
option = raw_input("Enther the option to ON or OFF the plug : ")
if option == "2":
    device.char_write(uuid, bytearray([0x0F, 0x06, 0x03, 0x00, 0x00, 0x00, 0x00, 0x04, 0xFF, 0xFF]))
    sleep(10)
    adapter.stop()
elif option == "1":
    device.char_write(uuid, bytearray([0x0F, 0x06, 0x03, 0x00, 0x01, 0x00, 0x00, 0x05, 0xFF, 0xFF]))
    sleep(10)
    adapter.stop()
else:
    print("Invalid option")
    adapter.stop()


#device off
#device.char_write(uuid,bytearray([0x0F,0x06,0x03,0x00,0x00,0x00,0x00,0x04,0xFF,0xFF]))
#sleep (10)

#device On
#device.char_write(uuid,bytearray([0x0F,0x06,0x03,0x00,0x01,0x00,0x00,0x05,0xFF,0xFF]))
#sleep(10)

#adapter.stop()

